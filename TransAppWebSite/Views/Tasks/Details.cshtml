@using TransAppWebSite.Utilities
@model TransAppWebSite.Models.TaskViewModel
@{
    ViewBag.Title = "Task Details";
}

@section featured {
    <section class="featured">
        <div class="content-wrapper">
            <hgroup class="title">
                <h1>@ViewBag.Title</h1>
            </hgroup>
            
        </div>
    </section>
}

    @Html.Label("ID :") 

    @Html.Label(Model.Id.ToString())

    <br />

    @Html.Label("Delivery Number :") 
    
    @Html.Label(Model.DeliveryNumber)

    <br />
    
    @Html.Label("Comment :") 

    @Html.Label(Model.Comment)

    
    
    @if (Model.User != null)
    {
        <br />
         @Html.Label("User :")
         <label for="user">@Html.ActionLink(string.Format("{0} {1}", Model.User.FirstName, Model.User.LastName), "Details/" + Model.User.Id, "Users")</label>
    }

   @if (Model.Company != null)
    {
        <br />
         @Html.Label("Company :")
         <label for="company">@Html.ActionLink(string.Format("{0}", Model.Company.Name), "Details/" + Model.Company.Id, "Companies")</label>
    }
   
    @if (Model.SenderAddress != null)
    {
        <br />
         @Html.Label("Sender Address :")
         <label for="senderAddress">@Html.ActionLink(string.Format("{0} {1}, {2}", Model.SenderAddress.StreetName, Model.SenderAddress.StreetNumber, Model.SenderAddress.City), "Details/" + Model.SenderAddress.Id, "Addresses")</label>
    }

    @if (Model.ReciverAddress != null)
    {
        <br />
         @Html.Label("Reciver Address :")
         <label for="reciverAddress">@Html.ActionLink(string.Format("{0} {1}, {2}", Model.ReciverAddress.StreetName, Model.ReciverAddress.StreetNumber, Model.ReciverAddress.City), "Details/" + Model.ReciverAddress.Id, "Addresses")</label>
    }

    @if (Model.Contact != null)
    {
        <br />
         @Html.Label("Contact :")
         <label for="contact">@Html.ActionLink(string.Format("{0} {1}", Model.Contact.FirstName, Model.Contact.LastName), "Details/" + Model.Contact.Id, "Contacts")</label>
    }
   
    <br />

    @Html.Label("Task :") 

    @Html.Label(Enum.GetName(Model.TaskStatus.GetType(), Model.TaskStatus))

    <br />

    @Html.Label("Time Created :") 

    @Html.Label(Model.Created.ToLocalTime().ToString("dd-MM-yyyy hh:mm"))

    <br />

    
    @Html.Label("Pick Up Time :")

    @Html.Label(Model.PickUpTime.ToLocalTime().ToString("dd-MM-yyyy hh:mm"))

    <br />

    @Html.Label("Delivery Time :") 

    @Html.Label(Model.DeliveryTime.ToLocalTime().ToString("dd-MM-yyyy hh:mm"))

    <br />
    
    @Html.Label("Picked Up At :") 

    @(Model.PickedUpAt.HasValue ? Html.Label(Model.PickedUpAt.Value.ToLocalTime().ToString("dd-MM-yyyy hh:mm")) : Html.Label(string.Empty))

    <br />

    @Html.Label("Delivered At :") 

    @(Model.DeliveredAt.HasValue ? Html.Label(Model.DeliveredAt.Value.ToLocalTime().ToString("dd-MM-yyyy hh:mm")) : Html.Label(string.Empty))

    <br />

    @Html.Label("Last Modified :")

    @Html.Label(Model.LastModified.ToLocalTime().ToString("dd-MM-yyyy hh:mm"))

    <br />

    @if (Model.Rejected.HasValue)
        {
            if (Model.Rejected.Value)
            {
                @Html.Label("Task Has Been Rejected") 
            }
            else
            {
                @Html.Label("Task Has Been Accepted :") 
            }

        <br />
    }

    @Html.Label("User Comment :") 
    
    @Html.Label(Model.UserComment != null? Model.UserComment : string.Empty)

    <br />
      
    @if (!string.IsNullOrEmpty(Model.ImageId))
    {
        @Html.Label("Picture :") 

        <img src="@Model.ImageUri" alt="Picture" width="400" height="300">

        <br />
    }
      
    @if (!string.IsNullOrEmpty(Model.SignatureId))
    {
        @Html.Label("Signature :") 

        <img src="@Model.SignatureUri" alt="Signature" width="400" height="300">
    }



    